# Gitlab CI

Кратко Секция статьи "Кратко"
Аббревиатура CI/CD означает «Continuous Integration/Continuous Delivery» — то есть «непрерывная интеграция/непрерывная доставка». Это подход к разработке, при котором задачи сборки, публикации, тестирования продукта полностью или частично автоматизированы. Очень часто автоматизация интегрирована в бизнес-процессы продуктовой команды или компании, но практики CI/CD прекрасно могут быть внедрены и в проекты, в которых участвует только один разработчик.


## CI
Непрерывная интеграция
Разработчики, практикующие непрерывную интеграцию, как можно чаще сливают свои изменения обратно в основную ветку. Изменения, внесенные разработчиком, проверяются путем создания сборки и выполнения автоматических тестов для сборки. Поступая так, вы избегаете проблем с интеграцией, которые могут возникнуть, когда вы ждете дня выпуска, чтобы объединить изменения в ветку выпуска.

Непрерывная интеграция уделяет большое внимание автоматизации тестирования, чтобы убедиться, что приложение не нарушается всякий раз, когда новые коммиты интегрируются в основную ветку.

## CD
Непрерывная доставка
Непрерывная поставка  является расширением непрерывной интеграции, поскольку она автоматически развертывает все изменения кода в тестовой и/или производственной среде после этапа сборки. 

Это означает, что помимо автоматического тестирования у вас есть автоматизированный процесс выпуска, и вы можете развернуть свое приложение в любое время, нажав кнопку.

Теоретически при непрерывной доставке вы можете выпускать ежедневно, еженедельно, раз в две недели или в зависимости от ваших бизнес-требований. Однако, если вы действительно хотите воспользоваться преимуществами непрерывной доставки, развертывание в рабочей среде следует выполнять как можно раньше, чтобы убедиться, что вы выпускаете небольшие партии, которые легко устранить в случае возникновения проблемы.

Непрерывное развертывание
Непрерывное развертывание идет на шаг дальше, чем непрерывная доставка. Благодаря этой практике каждое изменение, прошедшее все этапы производственного конвейера, передается вашим клиентам. Вмешательства человека нет, и только неудачный тест предотвратит развертывание нового изменения в рабочей среде.

Непрерывное развертывание — отличный способ ускорить цикл обратной связи с вашими клиентами и снять нагрузку с команды, поскольку «дня релиза» больше нет. Разработчики могут сосредоточиться на создании программного обеспечения, и они видят, как их работа начинает работать через несколько минут после того, как они закончили работу над ней.

## Gitlab Runner

### Shared
### Own

### Install Runner

https://docs.gitlab.com/runner/install/docker.html

```sh
docker volume create gitlab-runner-config
```

```sh
docker run -d --name gitlab-runner --restart always \
    -v /var/run/docker.sock:/var/run/docker.sock \
    -v gitlab-runner-config:/etc/gitlab-runner \
    gitlab/gitlab-runner:latest
```

### Register Runner

https://docs.gitlab.com/runner/register/index.html#docker

```sh
docker run --rm -it -v gitlab-runner-config:/etc/gitlab-runner gitlab/gitlab-runner:latest register
```

### Runner tags

## .gitlab-ci.yml

https://docs.gitlab.com/ee/ci/quick_start/#create-a-gitlab-ciyml-file

### Pipelines
### Stages
### Jobs

## CI/CD variables

### Protected
### Masked
### Environments
### Group variables

Environments
Job artifacts
Cache dependencies
GitLab Runner
Pipeline efficiency
Test cases
Schedule pipelines
Browser Performance Testing
Load Performance Testing
Unit test reports
Using Docker images
